# Docker development configuration

server:
  address: "0.0.0.0:8080"
  zero_copy:
    enabled: true
    pipe_buffer_size: 1048576

buckets:
  - name: "uploads"
    path_prefix: "/uploads"
    s3:
      bucket: "uploads"
      region: "us-east-1"
      endpoint: "http://minio:9000"
      access_key: "${AWS_ACCESS_KEY}"
      secret_key: "${AWS_SECRET_KEY}"
    auth:
      enabled: false
    upload:
      multipart_threshold: 52428800
      part_size: 104857600
      concurrent_parts: 4

  - name: "private"
    path_prefix: "/private"
    s3:
      bucket: "private"
      region: "us-east-1"
      endpoint: "http://minio:9000"
      access_key: "${AWS_ACCESS_KEY}"
      secret_key: "${AWS_SECRET_KEY}"
    auth:
      enabled: true
      jwt:
        secret: "${JWT_SECRET}"
        algorithm: "HS256"
        token_sources:
          - type: "bearer"
    upload:
      multipart_threshold: 52428800
      part_size: 104857600
      concurrent_parts: 4

metrics:
  enabled: true
  port: 9090
